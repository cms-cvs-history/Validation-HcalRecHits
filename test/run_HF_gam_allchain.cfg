process HCALRECHITSVALIDATION  = {

   include "Configuration/StandardSequences/data/SimulationRandomNumberGeneratorSeeds.cff"
   include "Configuration/StandardSequences/data/VtxSmearedGauss.cff"
   include "Configuration/StandardSequences/data/Simulation.cff"
   include "Configuration/StandardSequences/data/MixingNoPileUp.cff"
   include "Configuration/StandardSequences/data/FakeConditions.cff"
   include "Configuration/StandardSequences/data/Reconstruction.cff"

   untracked PSet maxEvents = {untracked int32 input = -1}

   include "DQMServices/Core/data/DQM.cfg"
   replace DQM.collectorHost = ""

   source = PoolSource {
     untracked vstring fileNames = {
    'file:/afs/cern.ch/cms/data/CMSSW/Validation/HcalHits/data/1_4_x/mc_gamma_100_hf.root'
     }
     untracked uint32 debugVebosity = 10
     untracked bool   debugFlag     = true
   }


replace XMLIdealGeometryESSource = XMLIdealGeometryESSource{
   vstring geomXMLFiles = {
       "Geometry/CMSCommonData/data/materials.xml",
       "Geometry/CMSCommonData/data/rotations.xml",
       "Geometry/HcalCommonData/data/hcalrotations.xml",
       "Geometry/HcalCommonData/data/hcalforwardmaterial.xml",
       "Geometry/CMSCommonData/data/normal/cmsextent.xml",
       "Geometry/CMSCommonData/data/cms.xml",
       "Geometry/CMSCommonData/data/cmsMother.xml",
       "Geometry/CMSCommonData/data/muonBase.xml",
       "Geometry/CMSCommonData/data/cmsMuon.xml",
       "Geometry/CMSCommonData/data/mgnt.xml",
       "Geometry/CMSCommonData/data/muonMagnet.xml",
       "Geometry/CMSCommonData/data/muonMB.xml",
       "Geometry/CMSCommonData/data/caloBase.xml",
       "Geometry/CMSCommonData/data/cmsCalo.xml",
       "Geometry/HcalCommonData/data/hcalalgo.xml",
       "Geometry/EcalCommonData/data/eregalgo.xml",
       "Geometry/EcalCommonData/data/ebalgo.xml",
       "Geometry/EcalCommonData/data/ebcon.xml",
       "Geometry/EcalCommonData/data/ebrot.xml",
       "Geometry/EcalCommonData/data/eecon.xml",
       "Geometry/EcalCommonData/data/eefixed.xml",
       "Geometry/EcalCommonData/data/eehier.xml",
       "Geometry/EcalCommonData/data/eealgo.xml",
       "Geometry/EcalCommonData/data/esalgo.xml",
       "Geometry/HcalCommonData/data/hcalbarrelalgo.xml",
       "Geometry/HcalCommonData/data/hcalendcapalgo.xml",
       "Geometry/HcalCommonData/data/hcalouteralgo.xml",
       "Geometry/HcalCommonData/data/hcalforwardalgo.xml",
       "Geometry/EcalSimData/data/ecalsens.xml",
       "Geometry/HcalCommonData/data/hcalsens.xml",
       "Geometry/HcalSimData/data/CaloUtil.xml",
       "Geometry/EcalSimData/data/EcalProdCuts.xml",
       "Geometry/HcalSimData/data/HcalProdCuts.xml"
   }
   string rootNodeName = "cms:OCMS"
}

        #Vertex
        replace VtxSmeared.SigmaX = 0.00001
        replace VtxSmeared.SigmaY = 0.00001
        replace VtxSmeared.SigmaZ = 0.00001

        #Magnetic Field
        replace g4SimHits.UseMagneticField = false

#---
replace ecalUnsuppressedDigis.doNoise = false
replace ecalUnsuppressedDigis.doESNoise = false


  module hcalRecoAnalyzer = HcalRecHitsValidation{
     untracked string outputFile = 'HcalRecHitsValidationHF.root'
     untracked string hcalselector   = 'HF'
     untracked string ecalselector   = 'no'
     untracked string eventype       = 'single'
     untracked string sign           = '*'
     untracked string mc             = 'yes'
  }


replace hbhereco.digiLabel = hcalUnsuppressedDigis
replace horeco.digiLabel   = hcalUnsuppressedDigis
replace hfreco.digiLabel   = hcalUnsuppressedDigis


path p = {VtxSmeared, g4SimHits, mix, calDigi, ecalLocalRecoSequence, hfreco, hcalRecoAnalyzer}

}
