process HcalSIMtoRECO  = {

    include "Configuration/StandardSequences/data/Simulation.cff"
    include "Configuration/StandardSequences/data/MixingNoPileUp.cff"
    include "Configuration/StandardSequences/data/FakeConditions.cff"
    include "Configuration/StandardSequences/data/Reconstruction.cff"


  untracked PSet maxEvents = {untracked int32 input = -1}

   source = PoolSource {
     untracked vstring fileNames = {
             'file:/afs/cern.ch/cms/data/CMSSW/Validation/HcalDigis/data/simhits_gamma100_hf.root'
     }
     untracked uint32 debugVebosity = 10
     untracked bool   debugFlag     = true
  }

  service = RandomNumberGeneratorService {
            untracked uint32 sourceSeed = 123456789
            PSet moduleSeeds =
            {
#              untracked uint32 VtxSmeared = 98765432
#              untracked uint32 g4SimHits  = 11
              untracked uint32 mix        = 12345
              untracked uint32 ecalUnsuppressedDigis = 43434
              untracked uint32 hcalDigis = 43434
      }
  }


 module o1 = PoolOutputModule {

        untracked vstring outputCommands =
        {
        "keep *",
        "drop EBDataFramesSorted_*_*_*",
        "drop EEDataFramesSorted_*_*_*",
        "drop ESDataFramesSorted_*_*_*",
        "drop EBSrFlagsSorted_*_*_*",
        "drop EESrFlagsSorted_*_*_*",
        "drop EcalTriggerPrimitiveDigisSorted_*_*_*",
        "drop CrossingFrame_*_*_*"
        }

        untracked string fileName ="rechits_gamma100_hf.root"
 }

path p = {mix, calDigi, ecalLocalRecoSequence, hbhereco, horeco, hfreco}
endpath outpath = { o1 }

}
